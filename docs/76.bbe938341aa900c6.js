"use strict";(self.webpackChunkE_commerce=self.webpackChunkE_commerce||[]).push([[76],{4076:(U,a,i)=>{i.r(a),i.d(a,{AuthModule:()=>F});var m=i(6814),l=i(3286),u=i(9862),o=i(95),g=i(5219),d=i(1047),e=i(4769),p=i(4104);function h(t,f){1&t&&(e.TgZ(0,"p",23),e._uU(1,"email is required"),e.qZA())}function v(t,f){1&t&&(e.TgZ(0,"p",23),e._uU(1,"Invalid Typing of Email "),e.qZA())}function Z(t,f){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,h,2,0,"p",22),e.YNc(2,v,2,0,"p",22),e.qZA()),2&t){const n=e.oxw();let r,s;e.xp6(1),e.Q6J("ngIf",null==(r=n.loginForm.get("email"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(s=n.loginForm.get("email"))||null==s.errors?null:s.errors.pattern)}}const T=function(){return["/register"]},x=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(n,r,s){this._authservice=n,this.messageService=r,this._router=s,this.errorMessage="",this.loginForm=new o.cw({email:new o.NI(null,[o.kI.required,o.kI.email]),password:new o.NI(null,[o.kI.required,o.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)])})}submitLogin(){this.loginForm.valid&&this._authservice.logIn(this.loginForm.value).subscribe({next:n=>{console.log("this is the token",n.token),localStorage.setItem("userToken",n.token),this._authservice.decodeUserToken(),"success"==n.message&&this._router.navigate(["/maincomponent"])},error:n=>{console.log(n),this.errorMessage=n.error.message,this.showError()}})}showSuccess(){this.messageService.add({severity:"success",summary:"Success",detail:"Account Created Successfully"})}showError(){this.messageService.add({severity:"error",summary:"error",detail:this.errorMessage})}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(d.u),e.Y36(g.ez),e.Y36(l.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],features:[e._Bn([u.eN,d.u,g.ez])],decls:28,vars:4,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6"],["src","assets/imgs/\u2014Pngtree\u2014online shopping isometric shopping cart_5324780.png","alt","Phone image",1,"img-fluid"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],["position","top-right"],[3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["formControlName","email","type","email","id","email",1,"form-control","form-control-lg"],["for","form1Example13",1,"form-label"],["class","alert alert-danger",4,"ngIf"],["formControlName","password","type","password","id","form1Example23",1,"form-control","form-control-lg"],["for","form1Example23",1,"form-label"],[1,"d-flex","justify-content-around","align-items-center","mb-4"],[1,"form-check"],["type","checkbox","value","","id","form1Example3","checked","",1,"form-check-input"],["for","form1Example3",1,"form-check-label"],["href","#!"],[3,"routerLink"],["type","submit","routerLinkActive","active-sign-in ",1,"btn-login","btn-lg","btn-block"],[1,"alert","alert-danger"],["class","m-0 p-1",4,"ngIf"],[1,"m-0","p-1"]],template:function(r,s){if(1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"p-toast",6),e.TgZ(7,"form",7),e.NdJ("ngSubmit",function(){return s.submitLogin()}),e.TgZ(8,"div",8),e._UZ(9,"input",9),e.TgZ(10,"label",10),e._uU(11,"Email address"),e.qZA()(),e.YNc(12,Z,3,2,"div",11),e.TgZ(13,"div",8),e._UZ(14,"input",12),e.TgZ(15,"label",13),e._uU(16,"Password"),e.qZA()(),e.TgZ(17,"div",14)(18,"div",15),e._UZ(19,"input",16),e.TgZ(20,"label",17),e._uU(21," Remember me "),e.qZA()(),e.TgZ(22,"a",18),e._uU(23,"Forgot password?"),e.qZA(),e.TgZ(24,"a",19),e._uU(25,"Create Account?"),e.qZA()(),e.TgZ(26,"button",20),e._uU(27,"Sign in"),e.qZA()()()()()()),2&r){let c;e.xp6(7),e.Q6J("formGroup",s.loginForm),e.xp6(5),e.Q6J("ngIf",(null==(c=s.loginForm.get("email"))?null:c.touched)&&(null==(c=s.loginForm.get("email"))?null:c.errors)),e.xp6(12),e.Q6J("routerLink",e.DdM(3,T))}},dependencies:[m.O5,l.rH,l.Od,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,p.FN],styles:['.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}.btn-login[_ngcontent-%COMP%]{background-color:#125669;border:none;color:#fff}.btn-login[_ngcontent-%COMP%]:active{background-color:#0e3c49}']})}return t})()},{path:"register",component:i(722).y}];let A=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[l.Bz.forChild(x),l.Bz]})}return t})();var C=i(9502);let F=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[m.ez,A,o.UX,u.JF,o.u5,p.EV,C.$]})}return t})()}}]);